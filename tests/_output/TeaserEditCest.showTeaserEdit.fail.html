<html lang="de-DE"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf-param" content="_csrf">
    <meta name="csrf-token" content="nNncrHl1-3dQz-FlkZXNXHnxBTGsknL85S4w4tV9Khrm7Lb2SiKQHTKBhjTyz4xxH5c0ScnzS8TWamCFoQcfWw==">
    <title></title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/css/layout.css" rel="stylesheet">
<link href="/css/menu.css" rel="stylesheet">
<link href="/css/form.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
<link href="/ext/vue2Dropzone/vue2Dropzone.min.css" rel="stylesheet" position="1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/flatpickr@4.5.7/dist/flatpickr.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-flatpickr-component@latest/dist/vue-flatpickr.js"></script>
<script src="/js/form.js"></script>
<script src="/ext/vee-validate/vee-validate.js"></script>
<script src="/ext/vee-validate/de.js"></script>
<script src="/ext/vue2Dropzone/vue2Dropzone.js"></script></head>
<body>

    <div>
        <div id="bar"></div>
        <div id="top">
        <div id="wrapper">

            <!-- Header -->
            <div id="header">
            <h1><a href="/">TTKV Harburg-Land e.V.</a></h1>
            <p class="title">Tischtennis in der südlichen Metropolregion von Hamburg</p>
            </div> <!-- Header end -->

            <!-- Menu -->
            <div id="menu-box" class="cleaning-box">
              
    <!-- Hauptmenu breit Start -->
    <ul id="menu">
                <li class="">
                        <a href="/" target="" class="first ">Home</a>

            
                    </li>
                <li class="">
                        <a href="https://ttvn.click-tt.de" class=" " target="_blank">Click-tt</a>

            
                    </li>
                <li class="">
                        <a href="pokal" target="" class=" ">Pokal</a>

            
                    </li>
                <li class="submenu-parent">
                        <a href="#" class="keepOpenByClick  ">KM / RL</a>

            
                        <ul class="submenu">
                                <li>
                                <a href="kreismeisterschaften" class="">Kreismeisterschaften</a>

                                </li>

                                <li>
                                <a href="ranglisten" class="">Ranglisten</a>

                                </li>

                            </ul>

                    </li>
                <li class="">
                        <a href="anschriften" target="" class=" ">Anschriften</a>

            
                    </li>
                <li class="submenu-parent">
                        <a href="#" class="keepOpenByClick  ">Termine</a>

            
                        <ul class="submenu">
                                <li>
                                <a href="termine-damen-herren" class="">Termine Damen/Herren</a>

                                </li>

                                <li>
                                <a href="termine-jugend" class="">Termine Jugend</a>

                                </li>

                            </ul>

                    </li>
                <li class="">
                        <a href="downloads" target="" class=" ">Downloads</a>

            
                    </li>
                <li class="">
                        <a href="links" target="" class=" ">Links</a>

            
                    </li>
        
        <!--
        <li><nuxt-link  to="/" class="first">Home</nuxt-link></li>
        <li><a href="#">Click-tt</a></li>
        <li><a href="#">Pokal</a></li>
        <li class="submenu-parent"><a href="#" v-on:click.prevent="menuClicked" class="active">KM / RL</a>
            <ul class="submenu">
                <li><a href="#">Kreismeisterschaften</a></li>
                <li><a href="#">Ranglisten</a></li>
            </ul>
        </li>
        <li><a href="#">Anschriften</a></li>
        <li class="submenu-parent"><a href="#" v-on:click.prevent="menuClicked">Termine</a>
            <ul class="submenu">
                <li><a href="#">Termine Damen/Herren</a></li>
                <li><a href="#">Termine Jugend</a></li>
            </ul>
        </li>
        <li><a href="#">Downloads</a></li>
        <li><a href="#">Links</a></li>
        -->

        <li class="divider"></li>
                <li class="right-aligned user-menu submenu-parent"><a href="#" class="keepOpenByClick">Mein Menü</a>
            <div class="flexBox">
            <ul class="submenu">
                <li class="headline">Mark Worthmann</li>
                <li><a href="/account/my-account">Meine Daten</a></li>
                <li><a href="/account/logout">Logout</a></li>

                <li class="headline">TVV Neu Wulmstorf</li>
                <li><a href="#">Vereinskontaktdaten pflegen</a></li>
                <li><a href="#">Vereinsmeldung abgeben</a></li>
            </ul>
            <ul class="submenu">            
                <li class="headline">Verwaltung</li>
                <li><a href="/menu/navigationmanager">Hauptmenü verwalten</a></li>
                <li><a href="/usermanager/index">Userverwaltung</a></li>
                <li><a href="/rolemanager/index">Rollenverwaltung</a></li>

                <li class="headline">Alle Vereine</li>
                <li><a href="#">Vereine verwalten</a></li>
                <li><a href="#">Vereinspositionen verwalten</a></li>
                <li><a href="#">Vereinsmeldung verwalten</a></li>
            </ul>
            <ul class="submenu">            
                <li class="headline">Spielbetrieb</li>
                <li><a href="#">Spielzeiten/Saisons</a></li>
                <li><a href="#">Spielklassen</a></li>
            </ul>
            </div>
        </li>
            </ul>
    <!-- Hauptmenu Breit End -->
    
    
    <!-- Hauptmenu Responsive Start -->
    <ul id="menuResponsive">
        <li class="submenu-parent"><a href="#" data-target="MainMenu" class="menuOpenByClickResponsive first hamburger submenu-parent">Menü</a>
            <ul class="submenu hide" id="MainMenu">
                <!--
                <li><a href="#">Home</a></li>
                <li><a href="#">Click-tt</a></li>
                <li><a href="#">Pokal</a></li>
                <li class="submenu-parent"><a href="#" v-on:click.prevent="menuClickedResponsive('KMMenu',$event)" class="active">KM / RL >></a>
                </li>
                <li><a href="#">Anschriften</a></li>
                <li class="submenu-parent"><a href="#" v-on:click.prevent="menuClickedResponsive('TerminMenu',$event)">Termine >></a>
                </li>
                <li><a href="#">Downloads</a></li>
                <li><a href="#">Links</a></li>
                -->
                                <li class="">
                                        <a href="/" target="" class="">Home</a>
                                    </li>
                                                <li class="">
                                        <a href="https://ttvn.click-tt.de" class="" target="_blank">Click-tt</a>
                                    </li>
                                                <li class="">
                                        <a href="pokal" target="" class="">Pokal</a>
                                    </li>
                                                <li class="submenu-parent">
                                        <a href="#" data-target="Sub1" class="menuOpenByClickResponsive ">KM / RL <i class="material-icons">arrow_drop_down</i></a>
                                    </li>
                                                <li class="">
                                        <a href="anschriften" target="" class="">Anschriften</a>
                                    </li>
                                                <li class="submenu-parent">
                                        <a href="#" data-target="Sub2" class="menuOpenByClickResponsive ">Termine <i class="material-icons">arrow_drop_down</i></a>
                                    </li>
                                                <li class="">
                                        <a href="downloads" target="" class="">Downloads</a>
                                    </li>
                                                <li class="">
                                        <a href="links" target="" class="">Links</a>
                                    </li>
                                            </ul>
        </li>


        <li class="divider"></li>
        <!--
        <li class="right-aligned user-menu"><a href="#" data-target="MainMenu" class="menuOpenByClickResponsive hamburger submenu-parent">Mein Menü</a></li>
            <div class="flexBox">
            <ul class="submenu">
                <li class="headline">Mein Account</li>
                <li><nuxt-link to="/meinedaten">Meine Daten</nuxt-link ></li>
                <li><a href="/account/logout">Logout</a></li>
                <li class="headline">Mein Verein (TVV Neu Wulmstorf)</li>
                <li><a href="#">Vereinskontaktdaten pflegen</a></li>
                <li><a href="#">Vereinsmeldung abgeben</a></li>
            </ul>
            <ul class="submenu">
                <li class="headline">Verwaltung</li>
                <li><nuxt-link  to="/navigation">Hauptmenü verwalten</nuxt-link></li>
                <li><nuxt-link  to="/usermanager">Userverwaltung</nuxt-link></li>
                <li><nuxt-link to="/usermanager/roles">Rollenverwaltung</nuxt-link></li>

                <li class="headline">Alle Vereine</li>
                <li><a href="#">Vereine verwalten</a></li>
                <li><a href="#">Vereinspositionen verwalten</a></li>
                <li><a href="#">Vereinsmeldung verwalten</a></li>
            </ul>
            <ul class="submenu">            
                <li class="headline">Spielbetrieb</li>
                <li><a href="#">Spielzeiten/Saisons</a></li>
                <li><a href="#">Spielklassen</a></li>
            </ul>
            </div>
        </li>
        -->
                <li class="right-aligned user-menu"><a href="#" data-target="flyerBox" class="menuOpenByClickResponsive hamburger submenu-parent">Mein Menü</a>
        <div class="flyerBox hide" id="flyerBox">
            <div class="flexBox">
            <ul class="submenu">
                <li class="headline">Mein Account</li>
                <li><a href="/account/my-account">Meine Daten</a></li>
                <li><a href="/account/logout">Logout</a></li>
                <li class="headline">Mein Verein (TVV Neu Wulmstorf)</li>
                <li><a href="#">Vereinskontaktdaten pflegen</a></li>
                <li><a href="#">Vereinsmeldung abgeben</a></li>
            </ul>
            <ul class="submenu">
                <li class="headline">Verwaltung</li>
                <li><a href="/menu/navigationmanager">Hauptmenü verwalten</a></li>
                <li><a href="/usermanager/index">Userverwaltung</a></li>
                <li><a href="/rolemanager/index">Rollenverwaltung</a></li>

                <li class="headline">Alle Vereine</li>
                <li><a href="#">Vereine verwalten</a></li>
                <li><a href="#">Vereinspositionen verwalten</a></li>
                <li><a href="#">Vereinsmeldung verwalten</a></li>
            </ul>
            <ul class="submenu">            
                <li class="headline">Spielbetrieb</li>
                <li><a href="#">Spielzeiten/Saisons</a></li>
                <li><a href="#">Spielklassen</a></li>
            </ul>
            </div>
        </div>
                </li><li>
                        <ul class="submenu hide" id="Sub1">
                <li><a href="#" data-target="MainMenu" class="menuOpenByClickResponsive"> Zurück <i class="material-icons">arrow_drop_up</i></a></li>
                                <li>
                                        
                      <a href="kreismeisterschaften" class="">Kreismeisterschaften</a>
                                      </li>
                                <li>
                                        
                      <a href="ranglisten" class="">Ranglisten</a>
                                      </li>
                            </ul>
                        <ul class="submenu hide" id="Sub2">
                <li><a href="#" data-target="MainMenu" class="menuOpenByClickResponsive"> Zurück <i class="material-icons">arrow_drop_up</i></a></li>
                                <li>
                                        
                      <a href="termine-damen-herren" class="">Termine Damen/Herren</a>
                                      </li>
                                <li>
                                        
                      <a href="termine-jugend" class="">Termine Jugend</a>
                                      </li>
                            </ul>
                        <!--
            <ul class="submenu hide" id="submenuLayer">
                <li><a href="#" v-on:click.prevent="menuClickedResponsive('MainMenu',$event)"> Zurück <i class="material-icons">arrow_drop_up</i></a></li>
                <li v-for="subitem in subnavigation" :key="subitem.id" >
                    <nuxt-link v-bind:to="(subitem.path)?subitem.path:'/'" @click.native.prevent="closeSubmenu($event)" v-bind:class="{active: subitem.active}" v-if="subitem.external == '0'">{{subitem.name}}</nuxt-link>
                    <a v-bind:href="(subitem.path)?subitem.path:'/'" v-on:click.prevent="closeSubmenu($event)" v-bind:class="{active: subitem.active}" target="_blank" v-else>{{subitem.name}}</a>
                </li>
            </ul>
            -->
            <!--
            <ul class="submenu hide" id="KMMenu">
                <li><a href="#" v-on:click.prevent="menuClickedResponsive('MainMenu',$event)"> Zurück <i class="material-icons">arrow_drop_up</i></a></li>
                <li><a href="#">Kreismeisterschaften</a></li>
                <li><a href="#">Ranglisten</a></li>
            </ul>
            <ul class="submenu hide" id="TerminMenu">
                <li><a href="#" v-on:click.prevent="menuClickedResponsive('MainMenu',$event)"> Zurück <i class="material-icons">arrow_drop_up</i></a></li>
                <li><a href="#">Termine Damen/Herren</a></li>
                <li><a href="#">Termine Jugend</a></li>
            </ul>
            -->
        </li>
    </ul>    
    <!-- Hauptmenu Responsive End -->
    
    
                </div> <!-- Menu end -->

            <hr class="noscreen">
            <div id="skip-menu"></div>

            <div id="content"> 

                <div id="column-1">
                    <div class="content" id="content1">
                        <template id="linkcomponent">
    
    <span v-if="linkItem != null">
        <!-- Kein Link -->
        <div class="row link-manager" v-if="linkItem.target_page_id==null &amp;&amp; linkItem.extern_url==null">
            <label class="control-label col-sm-3">Verlinkung</label>
            <div class="col-sm-9 radios">
                <div>
                    <div class="radio">
                        <label><input type="radio" name="LinkItem[type]" v-model="showLinkExternInput" v-bind:value="false" v-on:click="selectLinkFromPagemanager"> Seitenauswahl</label>
                    </div>
                    <div class="radio">
                        <label><input type="radio" id="Linktype-extern" name="LinkItem[type]" v-model="showLinkExternInput" v-bind:value="true"> oder externen Link eingeben</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Show Intern Link -->
        <div class="row link-manager" v-else-if="linkItem.target_page_id!=null">
            <label class="control-label col-sm-3">Verlinkung Intern</label>
            <div class="col-sm-9">
                <div>
                    <a v-bind:href="'/'+linkItem.targetPage.urlname" target="_blank">{{linkItem.targetPage.linkname}}</a>
                    <a href="#" id="linkItem-delete-link" v-on:click.prevent="removeLink">(Verlinkung entfernen)</a>
                </div>
            </div>
        </div>

        <!-- Show Extern Link -->
        <div class="row link-manager" v-else-if="linkItem.extern_url!=null &amp;&amp; showLinkExternInput == null">
            <label class="control-label col-sm-3">Verlinkung Extern</label>
            <div class="col-sm-9">
                <div>
                    <a v-bind:href="linkItem.extern_url" id="linkItem-extern-link" target="_blank">{{linkItem.extern_url}}</a>
                    <a href="#" id="linkItem-delete-link" v-on:click.prevent="removeLink">(Verlinkung entfernen)</a>
                </div>
            </div>
        </div>

        <!-- Extern Link Input Field -->
        <div class="row link-manager required" id="Linktype-extern-form" v-if="showLinkExternInput == true">
            <label class="control-label col-sm-3" for="teaser-headline">Verlinkung Extern</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" name="LinkItem[extern_url]" v-model="linkItem.extern_url" aria-required="true" placeholder="https://">
                <p class="help-block help-block-error "></p>
            </div>
        </div> 
    </span>

    
</template>

<script type="text/javascript">

var linkcomponent = {
    template: '#linkcomponent',
    props: ['linkItem'],
    data: function(){
        return {
            showLinkExternInput: null /* InputFeld für externen Link anzeigen? */
        }
    },
    methods: {
        removeLink() {
            this.linkItem.extern_url        = null
            this.linkItem.target_page_id    = null
            this.linkItem.targetPage            = {}
            this.linkItem.targetPage.linkname   = null
            this.linkItem.targetPage.urlname    = null
            this.$emit('changed')
        },
        selectLinkFromPagemanager() {
            this.showLinkExternInput = false
            this.$emit('select-link-from-pagemanager')
        }
    }
}

</script>

<template id="imagecomponent">
    
    <span v-if="imageList != null">
        <!-- Kein Link -->
        <div class="row image-item" v-if="imageList.uploadedimages.length == 0">
            <label class="control-label col-sm-3">Image</label>
            <div class="col-sm-9 radios">
                <div>
                    <div>
                        <div class="noImage-text">Kein image</div>
                        <a href="#" v-on:click.prevent="selectImageFromImagemanager"> Image auswählen</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Show Image -->
        <div class="row image-item" v-else-if="imageList.uploadedimages.length > 0">
            <label class="control-label col-sm-3">
                Image<br>
                <a href="#" class="editImageLink" v-on:click.prevent="selectImageFromImagemanager"> Imagemanager</a>
            </label>
            <div class="col-sm-9 list column">
                <div class="card image mb-3" v-for="item in imageList.uploadedimages" v-bind:key="item.id">
                    <div class="card-img-top-wrapper">
                        <img class="card-img-top" v-bind:src="'/content/images/up/' + item.filename">
                    </div>
                    <div class="card-body">
                        <p class="card-text text-muted">
                            {{item.name}}
                        </p>
                    </div>
                </div>

                <!--
                <div>
                    <img v-bind:src="'/content/images/up/' + imageList.uploadedimages[0].filename" target="_blank"/>
                    <a href="#" id="linkItem-delete-link" v-on:click.prevent="removeImage">(Image entfernen)</a>
                </div>
                -->
            </div>
        </div>

    </span>
    
    
</template>

<script type="text/javascript">

var imagecomponent = {
    template: '#imagecomponent',
    props: ['imageList'],
    data: function(){
        return {
        }
    },
    methods: {
        removeImage() {
            this.$parent.changed()
        },
        selectImageFromImagemanager() {
            this.$parent.selectImageFromImagemanager()
        }
    }
}

</script>


<template id="releasecomponent">
    
    <!-- Releasemanager -->
    <div class="release-manager" v-if="releaseItem != null">
        <div class="release-boxes">
            <div class="row field-release-is_released">
                <label class="control-label col-sm-3">Öffentlich sichtbar</label>
                <div class="col-sm-9">
                    <input type="hidden" name="Release[is_released]" value="">
                    <div id="release-is_released">
                        <div class="radio"><label><input type="radio" name="Release[is_released]" value="1" v-model="releaseItem.is_released"> Ja</label></div>
                        <div class="radio"><label><input type="radio" name="Release[is_released]" value="0" v-model="releaseItem.is_released" checked=""> Nein</label></div>
                    </div>
                    <p class="help-block help-block-error "></p>
                </div>
            </div>
        </div>
        <div class="release-dates-opener-line">
            <a data-toggle="collapse" href="#release-dates">&gt;&gt; bei bedarf Veröffentlichungszeitraum eintragen</a>
        </div>
        <div class="release-dates collapse" v-bind:class="{show: releaseItem.from_date}" id="release-dates">
            <div class="row field-release-from_date">
                <label class="control-label col-sm-3" for="release-from_date">Sichtbar ab</label>
                <div class="col-sm-3">
                    <flat-pickr v-model="releaseItem.from_date" :config="config" class="form-control" placeholder="Select a date" name="releaseItem.from_date"></flat-pickr>
                    <!--<input type="text" id="release-from_date" class="form-control datepicker flatpickr-input" name="Release[from_date]" v-model="releaseItem.from_date" >-->
                    <!-- data-provide="datepicker" -->
                    <p class="help-block help-block-error "></p>
                </div>
            </div>
            <div class="row field-release-to_date">
                <label class="control-label col-sm-3" for="release-to_date">Sichtbar bis</label>
                <div class="col-sm-3">
                    <flat-pickr v-model="releaseItem.to_date" :config="config" class="form-control" placeholder="Select a date" name="releaseItem.to_date"></flat-pickr>
                    <!--<input type="text" id="release-to_date" class="form-control datepicker flatpickr-input" name="Release[to_date]" v-model="releaseItem.to_date" readonly="readonly">-->
                    <p class="help-block help-block-error "></p>
                </div>
            </div>
        </div>
    </div>
</template>

<script type="text/javascript">
var releasecomponent = {
    template: '#releasecomponent',
    props: ['releaseItem'],
    components: {
        
    },
    data: function(){
        return {
            release: {
                from_date: '' //default-Wert setzen
            },
            config: {
                altFormat: "d.m.Y", //"d.m.Y" Anzeigeformat - unabhängig vom Format des Feldes
                dateFormat: "d.m.Y", //"Y-m-d"Format für Variable (so wird es gespeichert)
                altInput: false,
                weekNumbers: true,
                allowInput: true //manuelle Eingabe?
            }
        }
    },
    mounted: function() {
        this.onLoad()
    },
    methods: {
        onLoad() {
        },
        getDate: function (event) {
            this.$emit('changed')
        }
    }
}

</script>
<template id="paginationcomponent">

    <!-- Pagination -->
    <nav v-if="pagination">
      <ul class="pagination pagination-sm justify-content-end">
        <li class="page-item" v-if="pagination.activePage>0">
          <a class="page-link" href="#" aria-label="Previous" v-on:click.prevent="getItemsOnPage(pagination.activePage-1)">
            <span aria-hidden="true">«</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        <li class="page-item"><a class="page-link" href="#" v-on:click.prevent="getItemsOnPage(pagination.activePage-1)" v-if="pagination.activePage>0">{{pagination.activePage}}</a></li>
        <li class="page-item active"><a class="page-link" v-on:click.prevent="getItemsOnPage(pagination.activePage)" href="#">{{pagination.activePage+1}}</a></li>
        <li class="page-item"><a class="page-link" href="#" v-on:click.prevent="getItemsOnPage(pagination.activePage+1)" v-if="pagination.activePage < pagination.lastPage">{{pagination.activePage+2}}</a></li>
        <li class="page-item" v-if="pagination.activePage < pagination.lastPage">
          <a class="page-link" href="#" aria-label="Next" v-on:click.prevent="getItemsOnPage(pagination.activePage+1)">
            <span aria-hidden="true">»</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      </ul>
    </nav>    

</template>

<script type="text/javascript">
var paginationcomponent = {
    template: '#paginationcomponent',
    props: {
        pagination: Object
    },
    components: {
    },
    data: function(){
        return {
        }
    },
    mounted: function() {
    },
    methods: {
        getItemsOnPage(pageNo){
            this.pagination.activePage = pageNo
            this.$parent.getItems()
        }
    }
}

</script>

<template id="pagemanagercomponent">
    <span>

    <!-- Pagemanager -->
    <h3>Seitenauswahl</h3>
    <div class="list">
        <p class="alert alert-danger" v-if="topError">{{topErrorMessage}}</p>
        <form v-on:submit.prevent="onSubmit" method="POST">
            <div class="row">
                <label class="control-label col-sm-3" for="searchstring">Suche</label>
                <div class="col-sm-9">
                    <input type="text" id="searchstring" class="form-control" name="Searchstring" v-model="form.searchstring" v-on:change="getItems" aria-required="true">
                    <p class="help-block help-block-error ">{{(form.errorMessages)?form.errorMessages.searchstring[0]:''}}</p>
                </div>
            </div>
        </form>
        
        <nav v-if="pagination">
            <div class="pagination pagination-sm justify-content-end" v-if="pagination">
                {{pagination.totalCount}} Ergebnisse
            </div>  
        </nav>
        <div class="">
            <div class="card mb-3" v-for="item in items" v-bind:key="item.id">
                <div class="card-doc-top"></div>
                <div class="card-body">
                    <h5 class="card-title">{{item.headline}}</h5>
                    <p class="card-text">
                        Erstellt: {{item.created}} von {{item.created_by}}
                    </p>
                    <a href="#" v-on:click.prevent="selectItem(item)" class="btn btn-primary saveLink" data-id="">Auswählen</a>
                    <a v-bind:href="'/'+item.urlname" target="_blank" class="btn btn-light">Seite anzeigen</a>
                    <!--<p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>-->
                </div>
            </div>
            <paginationcomponent v-bind:pagination="pagination"></paginationcomponent>
        </div>
        
        <button v-on:click="$parent.closePagemanager()" class="btn btn-outline-primary">Zurück</button>
        
    </div>

    </span>
</template>

<script type="text/javascript">
var pagemanagercomponent = {
    template: '#pagemanagercomponent',
    props: {
        linkItem: Object
    },
    components: {
        paginationcomponent
    },
    data: function(){
        return {
            topError: false,
            topErrorMessage: 'Die Daten konnten nicht geladen werden.',
            form: {
                errorMessages: null,
                searchstring: null,
                getLink: '/pagemanager/get-items'
            },
            items: null,
            pagination: {
                activePage: 0,
                pageSize: 20
            }
        }
    },
    mounted: function() {
        this.getItems()
    },
    methods: {
        getItems() {
            self = this;
            //load items
            $.post(self.form.getLink,
            {
                "PageFilterForm[searchstring]": this.form.searchstring,
                "PageFilterForm[pageno]": this.pagination.activePage,
                "PageFilterForm[pageSize]": this.pagination.pageSize
            })
            .done(function(data) {
                if(data.items){
                    self.topError           = false
                    self.form.errorMessages = null

                    self.items      = data.items
                    self.pagination = data.pagination
                }
                else {
                    self.topError           = true
                    self.form.errorMessages = data.errormessages
                }
            })
            .fail(function() {
                self.topError = true
                self.form.errorMessages = null
                console.log( "error loading items" )
            });
        },
        selectItem(item){
            //console.log("Selected: " + item.id)
            this.linkItem.targetPage            = {}
            this.linkItem.target_page_id        = item.id
            this.linkItem.targetPage.linkname   = item.linkname
            this.linkItem.targetPage.urlname    = item.urlname
            //pagemanager schließen
            this.$parent.closePagemanager()
        }
    }
}

</script>
<template id="imagemanagercomponent">
    <span>

    <!-- Imagemanager -->
    <h3>Ausgewählte Images</h3>
    <div class="list column image-item">
        <div class="noImage-text" v-if="itemsSelected.length == 0">Kein Image ausgewählt</div>
        
        <div class="card image mb-3" v-for="item in itemsSelected" v-bind:key="item.id">
            <div class="card-img-top-wrapper">
                <img class="card-img-top" v-bind:src="'/content/images/up/' + item.filename">
            </div>
            <div class="card-body">
                <p class="card-text text-muted">
                    {{item.name}}
                </p>
                <a href="#" v-on:click.prevent="removeItem(item)" class="btn btn-danger material-icons" data-id="">remove</a>
                <a href="#" v-on:click.prevent="removeItem(item)" class="btn btn-outline-primary material-icons">edit</a>
            </div>
        </div>
        <br>
    </div>
    <button v-on:click="acceptItems()" class="btn btn-outline-primary">Auswahl übernehmen</button>
    
    <hr>
    <h3>Verfügbare Images</h3>
    <div class="image-item">
        <form v-on:submit.prevent="onSubmit" method="POST">
            <div class="row">
                <label class="control-label col-sm-3" for="searchstring">Suche</label>
                <div class="col-sm-9">
                    <input type="text" v-validate="{regex: /^([0-9A-Za-z,.\-;:_#+*\\ß?=)(\/&amp;%$§! ]+)$/}" id="searchstring" class="form-control" name="Searchstring" v-model="form.searchstring" v-on:change="getItems" aria-required="true">
                    <p class="help-block help-block-error ">{{(form.errorMessages)?form.errorMessages.searchstring[0]:''}}</p>
                </div>
            </div>
        </form>
        
        <nav v-if="pagination">
            <div class="pagination pagination-sm justify-content-end" v-if="pagination &amp;&amp; items!= null">
                {{pagination.totalCount}} Ergebnisse
            </div>  
        </nav>
        <p class="alert alert-danger" v-if="topError">{{topErrorMessage}}</p>
        <p class="alert alert-danger" v-if="maxSelectingError">{{maxSelectingErrorMessage}}</p>
        <div class="list column image-item">
            <div class="card image mb-3" v-for="item in items" v-bind:key="item.id" v-if="!itemsSelected.includes(item)">
                <div class="card-img-top-wrapper">
                    <img class="card-img-top" v-bind:src="'/content/images/up/' + item.filename">
                </div>
                <div class="card-body">
                    <p class="card-text text-muted">
                        {{item.name}}
                    </p>
                    <a href="#" v-on:click.prevent="selectItem(item)" class="btn btn-primary material-icons" data-id="">add</a>
                    <a href="#" v-on:click.prevent="selectItem(item)" class="btn btn-outline-primary material-icons">edit</a>
                </div>
            </div>
            <vue-dropzone ref="myVueDropzone" id="dropzone" :options="dropzoneOptions"></vue-dropzone>

            <paginationcomponent v-bind:pagination="pagination" v-if="pagination &amp;&amp; items != null &amp;&amp; items.length > 0"></paginationcomponent>
        </div>        
        <br>
        <button v-on:click="$parent.closePagemanager()" class="btn btn-outline-primary">Abbrechen</button>
        
    </div>

    </span>
</template>

<script type="text/javascript">
var imagemanagercomponent = {
    template: '#imagemanagercomponent',
    props: {
        imageList: Object,
        maxSelecting: null
    },
    components: {
        paginationcomponent,
        vueDropzone: vue2Dropzone
    },
    data: function(){
        return {
            topError: false,
            topErrorMessage: 'Die Daten konnten nicht geladen werden.',
            maxSelectingError: false,
            maxSelectingErrorMessage: 'Sie können maximal ' + this.maxSelecting +' Image' + ((this.maxSelecting>1)?'s':'') +' auswählen',
            form: {
                errorMessages: null,
                searchstring: null,
                getLink: '/imagemanager/get-items'
            },
            itemsSelected: [
            ],
            items: [],
            pagination: {
                activePage: 0,
                pageSize: 20
            },
            dropzoneOptions: {
                url: '/imagemanager/upload',
                paramName: 'UploadImageForm[imageFiles]',
                thumbnailWidth: 150,
                maxFilesize: 0.5,
                uploadMultiple: true,
                resizeHeight: 480,
                maxFiles: 10,
                acceptedFiles: 'image/jpeg,image/gif,image/png',
                complete: this.afterUpload
            }
        }
    },
    mounted: function() {
        this.itemsSelected = JSON.parse(  JSON.stringify(this.imageList.uploadedimages))
        this.getItems()
    },
    methods: {
        getItems() {
            self = this;
            //load items
            //exclude already inserted items
            var excludeItems = []
            this.itemsSelected.forEach(function(elem){
                //console.log(elem.id)
                excludeItems.push(elem.id) 
            })
            $.post(self.form.getLink,
            {
                "SearchFilterForm[searchstring]": this.form.searchstring,
                "SearchFilterForm[pageno]": this.pagination.activePage,
                "SearchFilterForm[pageSize]": this.pagination.pageSize,
                "SearchFilterForm[exclude][]": excludeItems
            })
            .done(function(data) {
                if(data.items){
                    self.topError           = false
                    self.form.errorMessages = null

                    self.items      = data.items
                    self.pagination = data.pagination
                }
                else {
                    self.topError           = true
                    self.form.errorMessages = data.errormessages
                }
            })
            .fail(function() {
                self.topError = true
                self.form.errorMessages = null
                console.log( "error loading items" )
            });
        },
        selectItem(item){
            if(this.maxSelecting == null || this.itemsSelected.length < this.maxSelecting){
                //console.log("Selected: " + item.id
                this.itemsSelected.push(item)
                this.getItems()
            }
            else {
                this.maxSelectingError = true;
            }
        },
        removeItem(item){
            this.maxSelectingError = false;
            //remove from itemsSelected by putting all others in new array
            //have not found a correct remove function of javascript (splice has not worked)
            var newSelected = []
            this.itemsSelected.forEach(function(elem){
                if(elem.id != item.id)
                    newSelected.push(elem)
            })
            this.itemsSelected = newSelected
            
            this.getItems()
        },
        //hochladen
        afterUpload(file, response){
            this.$refs.myVueDropzone.removeAllFiles()
            this.getItems()
        },
        acceptItems(){
            this.imageList.uploadedimages = this.itemsSelected
            this.$parent.closePagemanager();
        }
    }
}

</script>

    <div id="editItem"><form method="POST"><h3>Teaser - Edit</h3> <!----> <!----> <!----> <!----> <div class="row field-teaser-headline required"><label for="teaser-headline" class="control-label col-sm-3">Headline</label> <div class="col-sm-9"><input type="text" id="teaser-headline" name="Headline" aria-required="true" class="form-control" aria-invalid="false"> <!----> <p class="help-block help-block-error "></p></div></div> <div class="row field-teaser-text required"><label for="teaser-headline" class="control-label col-sm-3">Text</label> <div class="col-sm-9"><textarea id="teaser-text" name="Text" aria-required="true" class="form-control" aria-invalid="false"></textarea> <!----> <p class="help-block help-block-error "></p></div></div> <hr> <span><div class="row link-manager"><label class="control-label col-sm-3">Verlinkung</label> <div class="col-sm-9 radios"><div><div class="radio"><label><input type="radio" name="LinkItem[type]" value="false"> Seitenauswahl</label></div> <div class="radio"><label><input type="radio" id="Linktype-extern" name="LinkItem[type]" value="true"> oder externen Link eingeben</label></div></div></div></div> <!----></span> <hr> <span><div class="row image-item"><label class="control-label col-sm-3">Image</label> <div class="col-sm-9 radios"><div><div><div class="noImage-text">Kein image</div> <a href="#"> Image auswählen</a></div></div></div></div></span> <hr> <div class="release-manager"><div class="release-boxes"><div class="row field-release-is_released"><label class="control-label col-sm-3">Öffentlich sichtbar</label> <div class="col-sm-9"><input type="hidden" name="Release[is_released]" value=""> <div id="release-is_released"><div class="radio"><label><input type="radio" name="Release[is_released]" value="1"> Ja</label></div> <div class="radio"><label><input type="radio" name="Release[is_released]" value="0" checked="checked"> Nein</label></div></div> <p class="help-block help-block-error "></p></div></div></div> <div class="release-dates-opener-line"><a data-toggle="collapse" href="#release-dates">&gt;&gt; bei bedarf Veröffentlichungszeitraum eintragen</a></div> <div id="release-dates" class="release-dates collapse"><div class="row field-release-from_date"><label for="release-from_date" class="control-label col-sm-3">Sichtbar ab</label> <div class="col-sm-3"><input type="text" data-input="true" placeholder="Select a date" name="releaseItem.from_date" class="form-control flatpickr-input"> <p class="help-block help-block-error "></p></div></div> <div class="row field-release-to_date"><label for="release-to_date" class="control-label col-sm-3">Sichtbar bis</label> <div class="col-sm-3"><input type="text" data-input="true" placeholder="Select a date" name="releaseItem.to_date" class="form-control flatpickr-input"> <p class="help-block help-block-error "></p></div></div></div></div> <button type="submit" class="btn btn-primary">Speichern</button> <a href="/page/edit" class="btn btn-outline-primary">Zurück</a> <br><br></form> <!----> <!----></div>

    <script type="text/javascript">
    Vue.component('flat-pickr', VueFlatpickr);
    Vue.component('VeeValidate', VeeValidate);
    Vue.use(VeeValidate);
    
    new Vue({
        el: '#editItem',
        components: {
            linkcomponent,
            imagecomponent,
            releasecomponent,
            pagemanagercomponent,
            imagemanagercomponent
        },
        data: {
            view: 'form',
            form: {
                isChanged: false,
                topError: false,
                topErrorLoading: false,
                topSuccess: false,
                topSuccessMessage: 'Gespeichert',
                topErrorMessage: 'Bitte überprüfen Sie Ihre Eingaben',
                topErrorLoadingMessage: 'Daten konnten nicht geladen werden.',
                errorMessages: {},
                getLink: '/teaserlist/get-item/',
                saveLink: '/teaserlist/save-item/'
            },
            item: {
                id: '997',
                linkItem: null
            }
        },
        mounted: function() {
            this.onLoad()
        },
        // define methods under the `methods` object
        methods: {
            onLoad() {
                //vee-validate auf language de einstellen
                this.$validator.localize('de');
                //console.log('load')
                //item laden
                self = this;
                $.post(self.form.getLink + this.item.id,
                {
                })
                .done(function(data) {
                    self.item = data
                    self.form.topErrorLoading = false
                })
                .fail(function() {
                    self.form.topErrorLoading = true
                    console.log( "error loading item" )
                });
            },
            onSubmit: function (event) {
                this.$validator.validateAll().then((result) => {
                if (result) {
                    //console.log('submit')
                    self = this;

                    //change uploadedimages to array of ids
                    var imageListIds = []
                    if(this.item.imageList.uploadedimages){
                        this.item.imageList.uploadedimages.forEach( function(image){
                            imageListIds.push(image.id)
                        })
                    }
                        
                    $.post(self.form.saveLink + this.item.id,
                    {
                        "Teaser[headline]": this.item.headline,
                        "Teaser[text]": this.item.text,
                        "Release[is_released]": this.item.release.is_released,
                        "Release[from_date]": this.item.release.from_date,
                        "Release[to_date]": this.item.release.to_date,
                        "LinkItem[extern_url]": this.item.linkItem.extern_url,
                        "LinkItem[target_page_id]": this.item.linkItem.target_page_id,
                        "ImageList[uploadedimages_ids]": imageListIds
                    })
                    .done(function(data) {
                        if(!data.saved){
                            self.form.topSuccess = false
                            self.form.topError = true
                            self.form.errorMessages = data.errormessages
                        }
                        else {
                            self.form.topSuccess = true
                            self.form.topError = false
                            self.form.errorMessages = null
                            self.form.showLinkExternInput = false
                        }
                        //UnSaved markierung entfernen
                        self.form.isChanged = false;                        
                    })
                    .fail(function() {
                      console.log( "error saving item" )
                    });
                }});
            },
            /* LinkItem-Funktionen */
            selectLinkFromPagemanager: function (event) {
                this.view = 'pagemanager'
            },
            closePagemanager(){
                this.view = 'form'
            },
            selectImageFromImagemanager() {
                this.view = 'imagemanager'
            },
            closeImagemanager(){
                this.view = 'form'
            }
        }
    });
        
    </script>
    
                    </div> <!-- content end -->
                    <div class="content" id="content2">
                    </div>
                </div> <!-- Column 1 end -->

                <div id="column-2">
                    
                              
                    <div id="column-21"> 
                        <div class="content">
                            <h4>News</h4>
                            <dl>
                                <dt>22. 8. 2008</dt>
                                <dd><a href="#">Justo Lorem vitae porttitor Nullam Pellentesque quis…</a></dd>

                                <dt>22. 8. 2008</dt>
                                <dd><a href="#">Justo Lorem vitae porttitor Nullam Pellentesque quis…</a></dd>

                                <dt>22. 8. 2008</dt>
                                <dd><a href="#">Justo Lorem vitae porttitor Nullam Pellentesque quis…</a></dd>
                            </dl>
                        </div>
                    </div> <!-- Column 21 end -->

                    <div id="column-22">
                        <div class="content">
                            <h4>Advertisment</h4>
                            <h4 class="nobg">Categories</h4> 
                            <ul class="r-list">
                                <li><a href="#">Elit vel</a></li>
                                <li><a class="active" href="#">Justo lorem</a></li>
                                <li><a href="#">Vestibulum sed</a></li>
                                <li><a href="#">Proin ipsum</a></li>
                                <li><a href="#">Laoreet phasellus</a></li>
                            </ul>

                            <h4 class="nobg">Subjects</h4> 
                            <ul class="r-list">
                                <li><a href="#">Elit vel</a></li>
                                <li><a href="#">Justo lorem</a></li>
                                <li><a href="#">Vestibulum sed</a></li>
                                <li><a href="#">Proin ipsum</a></li>
                                <li><a href="#">Laoreet phasellus</a></li>
                            </ul>
                        </div>
                    </div> <!-- Column 22 end -->




                </div> <!-- Column 2 end -->
                <div class="cleaner">&nbsp;</div>
            </div>  <!-- Content of the site end -->


            <div id="footer">
                <div id="footer-in">
                    <ul>
                        <li><a href="#" class=" first active">Home</a> |</li>
                        <li><a href="#">About us</a> |</li>
                        <li><a href="#">Testimonials</a> |</li>
                        <li><a href="#">We support</a> |</li>
                        <li><a href="#">Contact</a></li>
                    </ul>

                    <p class="print"><a id="print" href="#">Print</a> | <a href="#top">Top</a> ↑</p>
                    <div class="cleaner">&nbsp;</div>
                    <p id="backs"><a href="http://www.mantisatemplates.com/">Mantis-a templates</a> | tip <a href="http://www.topas-tachlovice.cz/topas-tachlovice.aspx" title="Občanské sdružení TOPAS Tachlovice">Tachlovice</a></p>
                </div>
            </div> <!-- Footer end -->

        </div> <!-- Wrapper end -->
        </div> <!-- top -->
    </div>

<div><div id="yii-debug-toolbar" class="yii-debug-toolbar yii-debug-toolbar_position_bottom" style="display: block;">
    <div class="yii-debug-toolbar__bar">
        <div class="yii-debug-toolbar__block yii-debug-toolbar__title">
            <a href="/debug/default/index">
                <img width="30" height="30" alt="Yii" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAC7lBMVEUAAACl034Cb7HlcjGRyT/H34fyy5PxqlSfzjwQeb5PmtX71HAMdrWOxkDzmU3qcDSPx0HzhUGNxT+/2lX2olDmUy/Q1l+TyD7rgjq21k3ZRzDQ4GGFw0Ghzz6MwOkKdrTA2lTzzMVjo9mhzkCIxUPk1MLynU7qWS33vmbP1rm011Fwqsj123/r44tUltTyq1aCxEOo0EL1tFuCw0Npp9v7xGVHkM8Ddrza0pvC3FboczHmXSvE21h+wkRkpNHvjkS92FPW3avpeDT2t1zX5GefzUD6wGQReLtMltPN417oczPZ0L+62FF+tuJgqtXZUzNzrN3s4Y7n65y72FLwmk7xjESr0kYof8MQe8DY5Gc6jMnN32DoaDLbTiLulUo1hsni45vuwnIigMXC21dqq8vKzaaBt+XU4mUMd7wDdr7xlUrU4a7A2VTD0LbVx5vvpFP/0m9godp/tuTD0LVyrsfZVDUuhMjkPChsrMt3suK92VDd52oEc7un0EKjzj7D21e01EuSyD2fzDvH3Fqu0kcDdL641k+x00rmXy0EdLiayzzynU2XyTzxmUur0ETshD7lZDDvkUbtiUDrgTvqfjrkWS292FPujEKAuObQ4GH3vWH1slr0r1j0pVLulEiPxj7oeDRnptn4zWrM31/1t13A2lb1rFb1qVS72FKHw0CLxD/qdTfnazL4wGPJ3VzwpFLpcjKFveljo9dfn9ZbntUYfcEIdr35w2XyoFH0ok/pfDZ9tONUmNRPltJIj89Ais388IL85Hn82nL80W33uV72tFy611DxlUnujkSCwkGlz0DqeTnocDJ3r99yrN1Xm9RFjc42hsorgsYhgMQPer/81XD5yGbT4mTriD/lbS3laCvjTiluqN5NktAxhMf853v84He/2VTgVCnmVSg8h8sHcrf6633+3nb8zGr2xmR/wEGcyzt3r+T/6n7tm01tqNnfSCnfPyO4zLmFwkDVRDGOweLP1aX55nrZTTOaxdjuY9uiAAAAfHRSTlMABv7+9hAJ/vMyGP2CbV5DOA+NbyYeG/DV0sC/ubaonYN5blZRQT41MSUk/v797+zj49PR0MXEw8PDu6imppqYlpOGhYN+bldWVFJROjAM+fPy8fDw8O7t6+vp5+Lh4N7e3Nvb2NPQ0MW8urm2rqiimJKFg3t5amZTT0k1ewExHwAABPVJREFUSMed1Xc81HEYB/DvhaOUEe29995777333ntv2sopUTQ4F104hRBSl8ohldCwOqfuuEiKaPdfz/P7/u6Syuu+ff727vM8z+8bhDHNB3TrXI38V6p1fvSosLBwgICd1qx/5cqVT8jrl9c1Wlm2qmFdgbWq5X316lXKq5dxu+ouyNWePevo6JjVd6il9T/soUPe3t48tyI0LeqWlpbk5oJ1dXVVKpNCH/e1/NO2rXXy5CEI5Y+6EZomn0tLSlS50OuaFZQUGuojl7vXtii/VQMnp5MQPW/+C6tUXDFnfeTubm4utVv+fud3EPTIUdfXYZVKpQULxTp75sz5h4PK7C4wO8zFCT1XbkxHG/cdZuaLqXV5Afb0xYW2etxsPxfg73htbEUPBhgXDgoKCg30kbu58Pai8/SW+o3t7e0TExPBYzuObkyXFk7SAnYFnBQYyPeePn3R2fnEiZsWPO5y6pQ9JpHXgPlHWlcLxWiTAh/LqX3wAOlNiYTXRzGn8F9I5LUx/052aLWOWVnwgQMfu7u7UQu9t26FhISYcpObHMdwHstxcR2uAc1ZSlgYsJsL7kutRCKT+XeyxWMfxHAeykE7OQGm6ecIOInaF3grmPkEWn8vL3FXIfxEnWMY8FTD5GYjeNwK3pbSCDEsTC30ysCK79/3HQY/MTggICABOZRTbYYHo9WuSiMjvhi/EWf90frGe3q2JmR8Ts65cwEJCVAOGgc3a6bD1vOVRj5wLVwY7U2dvR/vGRy1BB7TsgMH/HKAQzfVZlZEF0sjwHgtLC7GbySjvWCjojYS0vjIEcpBH8WTmwmIPmON4GEChksXF8MnotYX7NuMDGkb0vbaEeQ50E11A1R67SOnUzsjlsjgzvHx8cFRQKUFvQmpd/kaaD+sPoiYrqyfvDY39QPYOMTU1F8shn09g98WSOPi4szbEBuPy8BRY7V9l3L/34VDy2AvsdgXLfTGmZun9yY1PTw8Ll+DwenWI0j52A6awWGJzNQLj0VtenpsbHshWZXpQasTYO6ZJuTPCC3WQjFeix5LKpWap8dqNJohZHgmaA5DtQ35e6wtNnXS4wwojn2jUSimkH2ZtBpxnYp+67ce1pX7xBkF1KrV+S3IHIrxYuNJxbEd2SM4qoDDim/5+THrSD09bmzIn5eRPTiMNmYqLM2PDUMblNabzaE5PwbSZowHPdi0tsTQmKxor1EXFcXEDKnJf6q9xOBMCPvyVQG6aDGZhw80x8ZwK1h5ISzsRwe1Wt2B1MPHPZgYnqa3b1+4gOUKhUl/sP0Z7ITJycmowz5q3oxrfMBvvYBh6O7ZKcnvqY7dZuPXR8hQvOXSJdQc/7hhTB8TBjs6Ivz6pezsbKobmggYbJWOT1ADT8HFGxKW9LwTjRp4CujbTHj007t37kRHhGP5h5Tk5K0MduLce0/vvoyOjoiIuH4ddMoeBrzz2WvUMDrMDvpDFQa89Pkr4KCBo+7OYEdFpqLGcqqbMuDVaZGpqc/1OjycYerKohtpkZFl9ECG4qoihxvA9aN3ZDlXL5GDXR7Vr56BZtlYcAOwnQMdHXRPlmdd2U5kh5gffRHL0GSUXR5gKBeJ0tIiZ1UmLKlqlydygHD1s8EyYYe8PBFMjulVhbClEdy6kohLVTaJGEYW4eBr6MhsY1fi0ggoe7a3a7d84O6J5L8iNOiX3U+uoa/p8UPtoQAAAABJRU5ErkJggg==">
            </a>
        </div>

        <div class="yii-debug-toolbar__block yii-debug-toolbar__ajax" style="display: none">
            AJAX <span class="yii-debug-toolbar__label yii-debug-toolbar__ajax_counter">0</span>
            <div class="yii-debug-toolbar__ajax_info">
                <table>
                    <thead>
                    <tr>
                        <th>Method</th>
                        <th>Status</th>
                        <th>URL</th>
                        <th>Time</th>
                        <th>Profile</th>
                    </tr>
                    </thead>
                    <tbody class="yii-debug-toolbar__ajax_requests"></tbody>
                </table>
            </div>
        </div>

                                    <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=config&amp;tag=5cfe4c9332116">
        <span class="yii-debug-toolbar__label">2.0.20</span>
        PHP
        <span class="yii-debug-toolbar__label">7.2.9</span>
    </a>
</div>
                                                <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=request&amp;tag=5cfe4c9332116" title="Status code: 200 OK">Status <span class="yii-debug-toolbar__label yii-debug-toolbar__label_success">200</span></a>
    <a href="/debug/default/view?panel=request&amp;tag=5cfe4c9332116" title="Action: app\controllers\TeaserlistController::actionEditItem()">Route <span class="yii-debug-toolbar__label">teaserlist/edit-item</span></a>
</div>
                                                
<div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=log&amp;tag=5cfe4c9332116" title="Logged 38 messages">Log
        <span class="yii-debug-toolbar__label">38</span>
    </a>
        </div>
                                                <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=profiling&amp;tag=5cfe4c9332116" title="Total request processing time was 811 ms">Time <span class="yii-debug-toolbar__label yii-debug-toolbar__label_info">811 ms</span></a>
    <a href="/debug/default/view?panel=profiling&amp;tag=5cfe4c9332116" title="Peak memory consumption">Memory <span class="yii-debug-toolbar__label yii-debug-toolbar__label_info">7.279 MB</span></a>
</div>
                                                <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=db&amp;tag=5cfe4c9332116" title="Executed 26 database queries which took 53 ms.">
        DB <span class="yii-debug-toolbar__label yii-debug-toolbar__label_info">26</span> <span class="yii-debug-toolbar__label">53 ms</span>
    </a>
</div>
                                                <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=event&amp;tag=5cfe4c9332116">Events <span class="yii-debug-toolbar__label">110</span></a>
</div>
                                                <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=assets&amp;tag=5cfe4c9332116" title="Number of asset bundles loaded">Asset Bundles <span class="yii-debug-toolbar__label yii-debug-toolbar__label_info">6</span></a>
</div>
                                                                                                                                                <div class="yii-debug-toolbar__block">
    <a href="/debug/default/view?panel=user&amp;tag=5cfe4c9332116">
                                    User <span class="yii-debug-toolbar__label yii-debug-toolbar__label_info">1</span>
                                    </a>
</div>
                                                                    
        <div class="yii-debug-toolbar__block_last">

        </div>
        <a class="yii-debug-toolbar__external" href="#" target="_blank">
            <span class="yii-debug-toolbar__external-icon"></span>
        </a>

        <span class="yii-debug-toolbar__toggle">
            <span class="yii-debug-toolbar__toggle-icon"></span>
        </span>
    </div>

    <div class="yii-debug-toolbar__view">
        <iframe src="about:blank" frameborder="0"></iframe>
    </div>
</div>
</div><style>
#yii-debug-toolbar-logo {
    position: fixed;
    right: 31px;
    bottom: 4px;
}

@media print {
  .yii-debug-toolbar {
    display: none !important;
  }
}

.yii-debug-toolbar {
    font: 11px Verdana, Arial, sans-serif;
    text-align: left;
    width: 96px;
    transition: width .3s ease;
    z-index: 1000000;
}

.yii-debug-toolbar_active {
    width: 100%;
}

.yii-debug-toolbar_position_top {
    margin: 0 0 20px 0;
    width: 100%;
}

.yii-debug-toolbar_position_bottom {
    position: fixed;
    right: 0;
    bottom: 0;
    margin: 0;
}

.yii-debug-toolbar__bar {
    position: relative;
    padding: 0;
    font: 11px Verdana, Arial, sans-serif;
    text-align: left;
    overflow: hidden;
    box-sizing: content-box;

    background: rgb(255, 255, 255);
    background: -moz-linear-gradient(top, rgb(255, 255, 255) 0%, rgb(247, 247, 247) 100%); /* FF3.6-15 */
    background: -webkit-linear-gradient(top, rgb(255, 255, 255) 0%, rgb(247, 247, 247) 100%); /* Chrome10-25,Safari5.1-6 */
    background: linear-gradient(to bottom, rgb(255, 255, 255) 0%, rgb(247, 247, 247) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#f7f7f7', GradientType=0); /* IE6-9 */

    border: 1px solid rgba(0, 0, 0, 0.11);

    /* ensure debug toolbar text is displayed ltr even on rtl pages */
    direction: ltr;
}

.yii-debug-toolbar.yii-debug-toolbar_active:not(.yii-debug-toolbar_animating) .yii-debug-toolbar__bar {
    overflow: visible;
}
.yii-debug-toolbar:not(.yii-debug-toolbar_active) .yii-debug-toolbar__bar,
.yii-debug-toolbar.yii-debug-toolbar_animating .yii-debug-toolbar__bar {
    height:40px;
}

.yii-debug-toolbar__bar:after {
    content: '';
    display: table;
    clear: both;
}

.yii-debug-toolbar__view {
    height: 0;
    overflow: hidden;
    background: white;
}

.yii-debug-toolbar__view iframe {
    margin: 0;
    padding: 0;
    padding-top: 10px;
    height: 100%;
    width: 100%;
    border: 0;
}

.yii-debug-toolbar_iframe_active .yii-debug-toolbar__view {
    height: 100%;
}

.yii-debug-toolbar_iframe_animating .yii-debug-toolbar__view {
    transition: height .3s ease;
}

.yii-debug-toolbar__block {
    float: left;
    margin: 0;
    border-right: 1px solid rgba(0, 0, 0, 0.11);
    padding: 4px 8px;
    line-height: 32px;
    white-space: nowrap;
}

.yii-debug-toolbar__block_active,
.yii-debug-toolbar__ajax:hover {
    background: rgb(247, 247, 247); /* Old browsers */
    background: -moz-linear-gradient(top, rgb(247, 247, 247) 0%, rgb(224, 224, 224) 100%); /* FF3.6-15 */
    background: -webkit-linear-gradient(top, rgb(247, 247, 247) 0%, rgb(224, 224, 224) 100%); /* Chrome10-25,Safari5.1-6 */
    background: linear-gradient(to bottom, rgb(247, 247, 247) 0%, rgb(224, 224, 224) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7', endColorstr='#e0e0e0', GradientType=0); /* IE6-9 */
}

.yii-debug-toolbar__block a {
    display: inline-block;
    text-decoration: none;
    color: black;
}

.yii-debug-toolbar__block img {
    vertical-align: middle;
}

.yii-debug-toolbar__label {
    display: inline-block;
    padding: 2px 4px;
    font-size: 12px;
    font-weight: normal;
    line-height: 14px;
    white-space: nowrap;
    vertical-align: middle;
    max-width: 100px;
    overflow-x: hidden;
    text-overflow: ellipsis;
    color: #ffffff;
    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
    background-color: #999999;
    -webkit-border-radius: 3px;
       -moz-border-radius: 3px;
            border-radius: 3px;
}

.yii-debug-toolbar__label:empty {
    display: none;
}

a.yii-debug-toolbar__label:hover,
a.yii-debug-toolbar__label:focus {
    color: #ffffff;
    text-decoration: none;
    cursor: pointer;
}

.yii-debug-toolbar__label_important,
.yii-debug-toolbar__label_error {
    background-color: #b94a48;
}

.yii-debug-toolbar__label_important[href] {
    background-color: #953b39;
}

.yii-debug-toolbar__label_warning,
.yii-debug-toolbar__badge_warning {
    background-color: #f89406;
}

.yii-debug-toolbar__label_warning[href] {
    background-color: #c67605;
}

.yii-debug-toolbar__label_success {
    background-color: #468847;
}

.yii-debug-toolbar__label_success[href] {
    background-color: #356635;
}

.yii-debug-toolbar__label_info {
    background-color: #3a87ad;
}

.yii-debug-toolbar__label_info[href] {
    background-color: #2d6987;
}

.yii-debug-toolbar__label_inverse,
.yii-debug-toolbar__badge_inverse {
    background-color: #333333;
}

.yii-debug-toolbar__label_inverse[href],
.yii-debug-toolbar__badge_inverse[href] {
    background-color: #1a1a1a;
}

.yii-debug-toolbar__title {
    background: rgb(247, 247, 247); /* Old browsers */
    background: -moz-linear-gradient(top, rgb(247, 247, 247) 0%, rgb(224, 224, 224) 100%); /* FF3.6-15 */
    background: -webkit-linear-gradient(top, rgb(247, 247, 247) 0%, rgb(224, 224, 224) 100%); /* Chrome10-25,Safari5.1-6 */
    background: linear-gradient(to bottom, rgb(247, 247, 247) 0%, rgb(224, 224, 224) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7', endColorstr='#e0e0e0', GradientType=0); /* IE6-9 */
}

.yii-debug-toolbar__block_last{ /* creates space for .yii-debug-toolbar__toggle, .yii-debug-toolbar__external */
    width: 80px;
    height: 40px;
    float: left;
}

.yii-debug-toolbar__toggle,
.yii-debug-toolbar__external {
    cursor: pointer;
    position: absolute;

    width: 30px;
    height: 30px;
    font-size: 25px;
    font-weight: 100;
    line-height: 28px;
    color: #ffffff;
    text-align: center;

    opacity: 0.5;
    filter: alpha(opacity=50);

    transition: opacity .3s ease;
}

.yii-debug-toolbar__toggle:hover,
.yii-debug-toolbar__toggle:focus,
.yii-debug-toolbar__external:hover,
.yii-debug-toolbar__external:focus {
    color: #ffffff;
    text-decoration: none;
    opacity: 0.9;
    filter: alpha(opacity=90);
}

.yii-debug-toolbar__toggle-icon,
.yii-debug-toolbar__external-icon {
    display: inline-block;

    background-position: 50% 50%;
    background-repeat: no-repeat;
}

.yii-debug-toolbar__toggle {
    right: 10px;
    bottom: 4px;
}

.yii-debug-toolbar__toggle-icon {
    padding: 7px 0;
    width: 10px;
    height: 16px;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDUwIDUwIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNMTUuNTYzIDQwLjgzNmEuOTk3Ljk5NyAwIDAgMCAxLjQxNCAwbDE1LTE1YTEgMSAwIDAgMCAwLTEuNDE0bC0xNS0xNWExIDEgMCAwIDAtMS40MTQgMS40MTRMMjkuODU2IDI1LjEzIDE1LjU2MyAzOS40MmExIDEgMCAwIDAgMCAxLjQxNHoiLz48L3N2Zz4=');
    transition: -webkit-transform .3s ease-out;
    transition: transform .3s ease-out;
    -webkit-transform: rotate(180deg);
    transform: rotate(180deg);
}

.yii-debug-toolbar_active .yii-debug-toolbar__toggle-icon {
    -webkit-transform: rotate(0);
    transform: rotate(0);
}

.yii-debug-toolbar_iframe_active .yii-debug-toolbar__toggle-icon {
    -webkit-transform: rotate(90deg);
    transform: rotate(90deg);
}

.yii-debug-toolbar__external {
    display: none;
    right: 50px;
    bottom: 4px;
}

.yii-debug-toolbar_iframe_active .yii-debug-toolbar__external {
    display: block;
}

.yii-debug-toolbar__external-icon {
    padding: 8px 0;
    width: 14px;
    height: 14px;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDUwIDUwIj48cGF0aCBmaWxsPSIjNDQ0IiBkPSJNMzkuNjQyIDkuNzIyYTEuMDEgMS4wMSAwIDAgMC0uMzgyLS4wNzdIMjguMTAzYTEgMSAwIDAgMCAwIDJoOC43NDNMMjEuNyAyNi43OWExIDEgMCAwIDAgMS40MTQgMS40MTVMMzguMjYgMTMuMDZ2OC43NDNhMSAxIDAgMCAwIDIgMFYxMC42NDZhMS4wMDUgMS4wMDUgMCAwIDAtLjYxOC0uOTI0eiIvPjxwYXRoIGQ9Ik0zOS4yNiAyNy45ODVhMSAxIDAgMCAwLTEgMXYxMC42NmgtMjh2LTI4aDEwLjY4M2ExIDEgMCAwIDAgMC0ySDkuMjZhMSAxIDAgMCAwLTEgMXYzMGExIDEgMCAwIDAgMSAxaDMwYTEgMSAwIDAgMCAxLTF2LTExLjY2YTEgMSAwIDAgMC0xLTF6Ii8+PC9zdmc+');
}

.yii-debug-toolbar__switch-icon {
    margin-left: 10px;
    padding: 5px 10px;
    width: 18px;
    height: 18px;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDUwIDUwIiB2ZXJzaW9uPSIxLjEiPjxwYXRoIGQ9Im00MS4xIDIzYy0wLjYgMC0xIDAuNC0xIDF2MTAuN2wtMjUuNi0wLjFjMCAwIDAtMiAwLTIuOCAwLTAuOC0wLjctMS0xLTAuNmwtMy41IDMuNWMtMC42IDAuNi0wLjYgMS4zIDAgMmwzLjQgMy40YzAuNCAwLjQgMS4xIDAuMiAxLTAuNmwwLTIuOWMwIDAgMjAuOCAwLjEgMjYuNiAwIDAuNiAwIDEtMC40IDEtMXYtMTEuN2MwLTAuNi0wLjQtMS0xLTF6TTkgMjYuOSA5IDI2LjkgOSAyNi45IDkgMjYuOSIvPjxwYXRoIGQ9Im05IDI2LjljMC42IDAgMS0wLjQgMS0xdi0xMC43bDI1LjYgMC4xYzAgMCAwIDIgMCAyLjggMCAwLjggMC43IDEgMSAwLjZsMy41LTMuNWMwLjYtMC42IDAuNi0xLjMgMC0ybC0zLjQtMy40Yy0wLjQtMC40LTEuMS0wLjItMSAwLjZsMCAyLjljMCAwLTIwLjgtMC4xLTI2LjYgMC0wLjYgMC0xIDAuNC0xIDF2MTEuN2MwIDAuNiAwLjQgMSAxIDF6Ii8+PC9zdmc+');
}

.yii-debug-toolbar__ajax {
    position: relative;
}

.yii-debug-toolbar__ajax:hover .yii-debug-toolbar__ajax_info,
.yii-debug-toolbar__ajax:focus .yii-debug-toolbar__ajax_info {
    visibility: visible;
}
.yii-debug-toolbar__ajax_info {
    visibility: hidden;
    transition: visibility .2s linear;
    background-color: white;
    box-shadow: inset 0 -10px 10px -10px #e1e1e1;
    position: absolute;
    bottom: 40px;
    left: -1px;
    padding: 10px;
    max-width: 480px;
    max-height: 480px;
    word-wrap: break-word;
    overflow: hidden;
    overflow-y: auto;
    box-sizing: border-box;
    border: 1px solid rgba(0, 0, 0, 0.11);
    z-index: 1000001;
}
.yii-debug-toolbar__ajax a {
    color: #337ab7;
}
.yii-debug-toolbar__ajax table {
    width: 100%;
    table-layout: auto;
    border-spacing: 0;
    border-collapse: collapse;
}
.yii-debug-toolbar__ajax table td {
    padding: 4px;
    font-size: 12px;
    line-height: normal;
    vertical-align: top;
    border-top: 1px solid #ddd;
}
.yii-debug-toolbar__ajax table th {
    padding: 4px;
    font-size: 11px;
    line-height: normal;
    vertical-align: bottom;
    border-bottom: 2px solid #ddd;
}
.yii-debug-toolbar__ajax_request_status {
    color: white;
    padding: 2px 5px;
}
.yii-debug-toolbar__ajax_request_url {
    max-width: 170px;
    overflow: hidden;
    text-overflow: ellipsis;
}
</style><script>(function () {
    'use strict';

    var findToolbar = function () {
            return document.querySelector('#yii-debug-toolbar');
        },
        ajax = function (url, settings) {
            var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');
            settings = settings || {};
            xhr.open(settings.method || 'GET', url, true);
            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
            xhr.setRequestHeader('Accept', 'text/html');
            xhr.onreadystatechange = function (state) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200 && settings.success) {
                        settings.success(xhr);
                    } else if (xhr.status != 200 && settings.error) {
                        settings.error(xhr);
                    }
                }
            };
            xhr.send(settings.data || '');
        },
        url,
        div,
        toolbarEl = findToolbar(),
        toolbarAnimatingClass = 'yii-debug-toolbar_animating',
        barSelector = '.yii-debug-toolbar__bar',
        viewSelector = '.yii-debug-toolbar__view',
        blockSelector = '.yii-debug-toolbar__block',
        toggleSelector = '.yii-debug-toolbar__toggle',
        externalSelector = '.yii-debug-toolbar__external',

        CACHE_KEY = 'yii-debug-toolbar',
        ACTIVE_STATE = 'active',

        animationTime = 300,

        activeClass = 'yii-debug-toolbar_active',
        iframeActiveClass = 'yii-debug-toolbar_iframe_active',
        iframeAnimatingClass = 'yii-debug-toolbar_iframe_animating',
        titleClass = 'yii-debug-toolbar__title',
        blockClass = 'yii-debug-toolbar__block',
        blockActiveClass = 'yii-debug-toolbar__block_active',
        requestStack = [];

    if (toolbarEl) {
        url = toolbarEl.getAttribute('data-url');

        ajax(url, {
            success: function (xhr) {
                div = document.createElement('div');
                div.innerHTML = xhr.responseText;

                toolbarEl.parentNode && toolbarEl.parentNode.replaceChild(div, toolbarEl);

                showToolbar(findToolbar());
            },
            error: function (xhr) {
                toolbarEl.innerText = xhr.responseText;
            }
        });
    }

    function showToolbar(toolbarEl) {
        var barEl = toolbarEl.querySelector(barSelector),
            viewEl = toolbarEl.querySelector(viewSelector),
            toggleEl = toolbarEl.querySelector(toggleSelector),
            externalEl = toolbarEl.querySelector(externalSelector),
            blockEls = barEl.querySelectorAll(blockSelector),
            iframeEl = viewEl.querySelector('iframe'),
            iframeHeight = function () {
                return (window.innerHeight * 0.7) + 'px';
            },
            isIframeActive = function () {
                return toolbarEl.classList.contains(iframeActiveClass);
            },
            showIframe = function (href) {
                toolbarEl.classList.add(iframeAnimatingClass);
                toolbarEl.classList.add(iframeActiveClass);

                iframeEl.src = externalEl.href = href;
                viewEl.style.height = iframeHeight();
                setTimeout(function() {
                    toolbarEl.classList.remove(iframeAnimatingClass);
                }, animationTime);
            },
            hideIframe = function () {
                toolbarEl.classList.add(iframeAnimatingClass);
                toolbarEl.classList.remove(iframeActiveClass);
                removeActiveBlocksCls();

                externalEl.href = '#';
                viewEl.style.height = '';
                setTimeout(function() {
                    toolbarEl.classList.remove(iframeAnimatingClass);
                }, animationTime);
            },
            removeActiveBlocksCls = function () {
                [].forEach.call(blockEls, function (el) {
                    el.classList.remove(blockActiveClass);
                });
            },
            toggleToolbarClass = function (className) {
                toolbarEl.classList.add(toolbarAnimatingClass);
                if (toolbarEl.classList.contains(className)) {
                    toolbarEl.classList.remove(className);
                } else {
                    toolbarEl.classList.add(className);
                }
                setTimeout(function () {
                    toolbarEl.classList.remove(toolbarAnimatingClass);
                }, animationTime);
            },
            toggleStorageState = function (key, value) {
                if (window.localStorage) {
                    var item = localStorage.getItem(key);

                    if (item) {
                        localStorage.removeItem(key);
                    } else {
                        localStorage.setItem(key, value);
                    }
                }
            },
            restoreStorageState = function (key) {
                if (window.localStorage) {
                    return localStorage.getItem(key);
                }
            },
            togglePosition = function () {
                if (isIframeActive()) {
                    hideIframe();
                } else {
                    toggleToolbarClass(activeClass);
                    toggleStorageState(CACHE_KEY, ACTIVE_STATE);
                }
            };

        if (restoreStorageState(CACHE_KEY) === ACTIVE_STATE) {
            toolbarEl.classList.add(activeClass);
        }

        toolbarEl.style.display = 'block';

        window.onresize = function () {
            if (toolbarEl.classList.contains(iframeActiveClass)) {
                viewEl.style.height = iframeHeight();
            }
        };

        barEl.onclick = function (e) {
            var target = e.target,
                block = findAncestor(target, blockClass);

            if (block && !block.classList.contains(titleClass)
                && e.which !== 2 && !e.ctrlKey // not mouse wheel and not ctrl+click
            ) {
                while (target !== this) {
                    if (target.href) {
                        removeActiveBlocksCls();
                        block.classList.add(blockActiveClass);
                        showIframe(target.href);
                    }
                    target = target.parentNode;
                }

                e.preventDefault();
            }
        };

        toggleEl.onclick = togglePosition;
    }

    function findAncestor(el, cls) {
        while ((el = el.parentElement) && !el.classList.contains(cls));
        return el;
    }

    function renderAjaxRequests() {
        var requestCounter = document.getElementsByClassName('yii-debug-toolbar__ajax_counter');
        if (!requestCounter.length) {
            return;
        }
        var ajaxToolbarPanel = document.querySelector('.yii-debug-toolbar__ajax');
        var tbodies = document.getElementsByClassName('yii-debug-toolbar__ajax_requests');
        var state = 'ok';
        if (tbodies.length) {
            var tbody = tbodies[0];
            var rows = document.createDocumentFragment();
            if (requestStack.length) {
                var firstItem = requestStack.length > 20 ? requestStack.length - 20 : 0;
                for (var i = firstItem; i < requestStack.length; i++) {
                    var request = requestStack[i];
                    var row = document.createElement('tr');
                    rows.appendChild(row);

                    var methodCell = document.createElement('td');
                    methodCell.innerHTML = request.method;
                    row.appendChild(methodCell);

                    var statusCodeCell = document.createElement('td');
                    var statusCode = document.createElement('span');
                    if (request.statusCode < 300) {
                        statusCode.setAttribute('class', 'yii-debug-toolbar__ajax_request_status yii-debug-toolbar__label_success');
                    } else if (request.statusCode < 400) {
                        statusCode.setAttribute('class', 'yii-debug-toolbar__ajax_request_status yii-debug-toolbar__label_warning');
                    } else {
                        statusCode.setAttribute('class', 'yii-debug-toolbar__ajax_request_status yii-debug-toolbar__label_error');
                    }
                    statusCode.textContent = request.statusCode || '-';
                    statusCodeCell.appendChild(statusCode);
                    row.appendChild(statusCodeCell);

                    var pathCell = document.createElement('td');
                    pathCell.className = 'yii-debug-toolbar__ajax_request_url';
                    pathCell.innerHTML = request.url;
                    pathCell.setAttribute('title', request.url);
                    row.appendChild(pathCell);

                    var durationCell = document.createElement('td');
                    durationCell.className = 'yii-debug-toolbar__ajax_request_duration';
                    if (request.duration) {
                        durationCell.innerText = request.duration + " ms";
                    } else {
                        durationCell.innerText = '-';
                    }
                    row.appendChild(durationCell);
                    row.appendChild(document.createTextNode(' '));

                    var profilerCell = document.createElement('td');
                    if (request.profilerUrl) {
                        var profilerLink = document.createElement('a');
                        profilerLink.setAttribute('href', request.profilerUrl);
                        profilerLink.innerText = request.profile;
                        profilerCell.appendChild(profilerLink);
                    } else {
                        profilerCell.innerText = 'n/a';
                    }
                    row.appendChild(profilerCell);

                    if (request.error) {
                        if (state !== "loading" && i > requestStack.length - 4) {
                            state = 'error';
                        }
                    } else if (request.loading) {
                        state = 'loading'
                    }
                    row.className = 'yii-debug-toolbar__ajax_request';
                }
                while (tbody.firstChild) {
                    tbody.removeChild(tbody.firstChild);
                }
                tbody.appendChild(rows);
            }
            ajaxToolbarPanel.style.display = 'block';
        }
        requestCounter[0].innerText = requestStack.length;
        var className = 'yii-debug-toolbar__label yii-debug-toolbar__ajax_counter';
        if (state === 'ok') {
            className += ' yii-debug-toolbar__label_success';
        } else if (state === 'error') {
            className += ' yii-debug-toolbar__label_error';
        }
        requestCounter[0].className = className;
    };

    var proxied = XMLHttpRequest.prototype.open;

    XMLHttpRequest.prototype.open = function (method, url, async, user, pass) {
        var self = this;
        /* prevent logging AJAX calls to static and inline files, like templates */
        if (url.substr(0, 1) === '/' && !url.match(new RegExp("{{ excluded_ajax_paths }}"))) {
            var stackElement = {
                loading: true,
                error: false,
                url: url,
                method: method,
                start: new Date()
            };
            requestStack.push(stackElement);
            this.addEventListener("readystatechange", function () {
                if (self.readyState == 4) {
                    stackElement.duration = self.getResponseHeader("X-Debug-Duration") || new Date() - stackElement.start;
                    stackElement.loading = false;
                    stackElement.statusCode = self.status;
                    stackElement.error = self.status < 200 || self.status >= 400;
                    stackElement.profile = self.getResponseHeader("X-Debug-Tag");
                    stackElement.profilerUrl = self.getResponseHeader("X-Debug-Link");
                    renderAjaxRequests();
                }
            }, false);
            renderAjaxRequests();
        }
        proxied.apply(this, Array.prototype.slice.call(arguments));
    };

    // catch fetch AJAX requests
    if (window.fetch) {
        var originalFetch = window.fetch;

        window.fetch = function(input, init) {
            var method;
            var url;
            if (typeof input === "string") {
                method = (init && init.method) || 'GET';
                url = input;
            } else if (window.Request && input instanceof Request) {
                method = input.method;
                url = input.url;
            }
            var promise = originalFetch(input, init);

            /* prevent logging AJAX calls to static and inline files, like templates */
            if (url.substr(0, 1) === '/' && !url.match(new RegExp("{{ excluded_ajax_paths }}"))) {
                var stackElement = {
                    loading: true,
                    error: false,
                    url: url,
                    method: method,
                    start: new Date()
                };
                requestStack.push(stackElement);
                promise.then(function(response) {
                    stackElement.duration = response.headers.get("X-Debug-Duration") || new Date() - stackElement.start;
                    stackElement.loading = false;
                    stackElement.statusCode = response.status;
                    stackElement.error = response.status < 200 || response.status >= 400;
                    stackElement.profile = response.headers.get("X-Debug-Tag");
                    stackElement.profilerUrl = response.headers.get("X-Debug-Link");
                    renderAjaxRequests();

                    return response;
                }).catch(function(error) {
                    stackElement.loading = false;
                    stackElement.error = true;
                    renderAjaxRequests();

                    throw error;
                });
                renderAjaxRequests();
            }

            return promise;
        };
    }

})();</script><script src="/assets/bb395a2f/yii.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="/js/menu.js"></script>

<div class="flatpickr-calendar hasWeeks animate" tabindex="-1" style="width: 351px;"><div class="flatpickr-months"><span class="flatpickr-prev-month"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z"></path></svg></span><div class="flatpickr-month"><div class="flatpickr-current-month"><span class="cur-month">June </span><div class="numInputWrapper"><input class="numInput cur-year" type="number" tabindex="-1" aria-label="Year"><span class="arrowUp"></span><span class="arrowDown"></span></div></div></div><span class="flatpickr-next-month"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z"></path></svg></span></div><div class="flatpickr-innerContainer"><div class="flatpickr-weekwrapper"><span class="flatpickr-weekday">Wk</span><div class="flatpickr-weeks"><span class="flatpickr-day">22</span><span class="flatpickr-day">23</span><span class="flatpickr-day">24</span><span class="flatpickr-day">25</span><span class="flatpickr-day">26</span><span class="flatpickr-day">27</span></div></div><div class="flatpickr-rContainer"><div class="flatpickr-weekdays"><div class="flatpickr-weekdaycontainer">
      <span class="flatpickr-weekday">
        Sun</span><span class="flatpickr-weekday">Mon</span><span class="flatpickr-weekday">Tue</span><span class="flatpickr-weekday">Wed</span><span class="flatpickr-weekday">Thu</span><span class="flatpickr-weekday">Fri</span><span class="flatpickr-weekday">Sat
      </span>
      </div></div><div class="flatpickr-days" tabindex="-1" style="width: 309px;"><div class="dayContainer"><span class="flatpickr-day prevMonthDay" aria-label="May 26, 2019" tabindex="-1">26</span><span class="flatpickr-day prevMonthDay" aria-label="May 27, 2019" tabindex="-1">27</span><span class="flatpickr-day prevMonthDay" aria-label="May 28, 2019" tabindex="-1">28</span><span class="flatpickr-day prevMonthDay" aria-label="May 29, 2019" tabindex="-1">29</span><span class="flatpickr-day prevMonthDay" aria-label="May 30, 2019" tabindex="-1">30</span><span class="flatpickr-day prevMonthDay" aria-label="May 31, 2019" tabindex="-1">31</span><span class="flatpickr-day " aria-label="June 1, 2019" tabindex="-1">1</span><span class="flatpickr-day " aria-label="June 2, 2019" tabindex="-1">2</span><span class="flatpickr-day " aria-label="June 3, 2019" tabindex="-1">3</span><span class="flatpickr-day " aria-label="June 4, 2019" tabindex="-1">4</span><span class="flatpickr-day " aria-label="June 5, 2019" tabindex="-1">5</span><span class="flatpickr-day " aria-label="June 6, 2019" tabindex="-1">6</span><span class="flatpickr-day " aria-label="June 7, 2019" tabindex="-1">7</span><span class="flatpickr-day " aria-label="June 8, 2019" tabindex="-1">8</span><span class="flatpickr-day " aria-label="June 9, 2019" tabindex="-1">9</span><span class="flatpickr-day today" aria-label="June 10, 2019" aria-current="date" tabindex="-1">10</span><span class="flatpickr-day " aria-label="June 11, 2019" tabindex="-1">11</span><span class="flatpickr-day " aria-label="June 12, 2019" tabindex="-1">12</span><span class="flatpickr-day " aria-label="June 13, 2019" tabindex="-1">13</span><span class="flatpickr-day " aria-label="June 14, 2019" tabindex="-1">14</span><span class="flatpickr-day " aria-label="June 15, 2019" tabindex="-1">15</span><span class="flatpickr-day " aria-label="June 16, 2019" tabindex="-1">16</span><span class="flatpickr-day " aria-label="June 17, 2019" tabindex="-1">17</span><span class="flatpickr-day " aria-label="June 18, 2019" tabindex="-1">18</span><span class="flatpickr-day " aria-label="June 19, 2019" tabindex="-1">19</span><span class="flatpickr-day " aria-label="June 20, 2019" tabindex="-1">20</span><span class="flatpickr-day " aria-label="June 21, 2019" tabindex="-1">21</span><span class="flatpickr-day " aria-label="June 22, 2019" tabindex="-1">22</span><span class="flatpickr-day " aria-label="June 23, 2019" tabindex="-1">23</span><span class="flatpickr-day " aria-label="June 24, 2019" tabindex="-1">24</span><span class="flatpickr-day " aria-label="June 25, 2019" tabindex="-1">25</span><span class="flatpickr-day " aria-label="June 26, 2019" tabindex="-1">26</span><span class="flatpickr-day " aria-label="June 27, 2019" tabindex="-1">27</span><span class="flatpickr-day " aria-label="June 28, 2019" tabindex="-1">28</span><span class="flatpickr-day " aria-label="June 29, 2019" tabindex="-1">29</span><span class="flatpickr-day " aria-label="June 30, 2019" tabindex="-1">30</span><span class="flatpickr-day nextMonthDay" aria-label="July 1, 2019" tabindex="-1">1</span><span class="flatpickr-day nextMonthDay" aria-label="July 2, 2019" tabindex="-1">2</span><span class="flatpickr-day nextMonthDay" aria-label="July 3, 2019" tabindex="-1">3</span><span class="flatpickr-day nextMonthDay" aria-label="July 4, 2019" tabindex="-1">4</span><span class="flatpickr-day nextMonthDay" aria-label="July 5, 2019" tabindex="-1">5</span><span class="flatpickr-day nextMonthDay" aria-label="July 6, 2019" tabindex="-1">6</span></div></div></div></div></div><div class="flatpickr-calendar hasWeeks animate" tabindex="-1" style="width: 351px;"><div class="flatpickr-months"><span class="flatpickr-prev-month"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z"></path></svg></span><div class="flatpickr-month"><div class="flatpickr-current-month"><span class="cur-month">June </span><div class="numInputWrapper"><input class="numInput cur-year" type="number" tabindex="-1" aria-label="Year"><span class="arrowUp"></span><span class="arrowDown"></span></div></div></div><span class="flatpickr-next-month"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z"></path></svg></span></div><div class="flatpickr-innerContainer"><div class="flatpickr-weekwrapper"><span class="flatpickr-weekday">Wk</span><div class="flatpickr-weeks"><span class="flatpickr-day">22</span><span class="flatpickr-day">23</span><span class="flatpickr-day">24</span><span class="flatpickr-day">25</span><span class="flatpickr-day">26</span><span class="flatpickr-day">27</span></div></div><div class="flatpickr-rContainer"><div class="flatpickr-weekdays"><div class="flatpickr-weekdaycontainer">
      <span class="flatpickr-weekday">
        Sun</span><span class="flatpickr-weekday">Mon</span><span class="flatpickr-weekday">Tue</span><span class="flatpickr-weekday">Wed</span><span class="flatpickr-weekday">Thu</span><span class="flatpickr-weekday">Fri</span><span class="flatpickr-weekday">Sat
      </span>
      </div></div><div class="flatpickr-days" tabindex="-1" style="width: 309px;"><div class="dayContainer"><span class="flatpickr-day prevMonthDay" aria-label="May 26, 2019" tabindex="-1">26</span><span class="flatpickr-day prevMonthDay" aria-label="May 27, 2019" tabindex="-1">27</span><span class="flatpickr-day prevMonthDay" aria-label="May 28, 2019" tabindex="-1">28</span><span class="flatpickr-day prevMonthDay" aria-label="May 29, 2019" tabindex="-1">29</span><span class="flatpickr-day prevMonthDay" aria-label="May 30, 2019" tabindex="-1">30</span><span class="flatpickr-day prevMonthDay" aria-label="May 31, 2019" tabindex="-1">31</span><span class="flatpickr-day " aria-label="June 1, 2019" tabindex="-1">1</span><span class="flatpickr-day " aria-label="June 2, 2019" tabindex="-1">2</span><span class="flatpickr-day " aria-label="June 3, 2019" tabindex="-1">3</span><span class="flatpickr-day " aria-label="June 4, 2019" tabindex="-1">4</span><span class="flatpickr-day " aria-label="June 5, 2019" tabindex="-1">5</span><span class="flatpickr-day " aria-label="June 6, 2019" tabindex="-1">6</span><span class="flatpickr-day " aria-label="June 7, 2019" tabindex="-1">7</span><span class="flatpickr-day " aria-label="June 8, 2019" tabindex="-1">8</span><span class="flatpickr-day " aria-label="June 9, 2019" tabindex="-1">9</span><span class="flatpickr-day today" aria-label="June 10, 2019" aria-current="date" tabindex="-1">10</span><span class="flatpickr-day " aria-label="June 11, 2019" tabindex="-1">11</span><span class="flatpickr-day " aria-label="June 12, 2019" tabindex="-1">12</span><span class="flatpickr-day " aria-label="June 13, 2019" tabindex="-1">13</span><span class="flatpickr-day " aria-label="June 14, 2019" tabindex="-1">14</span><span class="flatpickr-day " aria-label="June 15, 2019" tabindex="-1">15</span><span class="flatpickr-day " aria-label="June 16, 2019" tabindex="-1">16</span><span class="flatpickr-day " aria-label="June 17, 2019" tabindex="-1">17</span><span class="flatpickr-day " aria-label="June 18, 2019" tabindex="-1">18</span><span class="flatpickr-day " aria-label="June 19, 2019" tabindex="-1">19</span><span class="flatpickr-day " aria-label="June 20, 2019" tabindex="-1">20</span><span class="flatpickr-day " aria-label="June 21, 2019" tabindex="-1">21</span><span class="flatpickr-day " aria-label="June 22, 2019" tabindex="-1">22</span><span class="flatpickr-day " aria-label="June 23, 2019" tabindex="-1">23</span><span class="flatpickr-day " aria-label="June 24, 2019" tabindex="-1">24</span><span class="flatpickr-day " aria-label="June 25, 2019" tabindex="-1">25</span><span class="flatpickr-day " aria-label="June 26, 2019" tabindex="-1">26</span><span class="flatpickr-day " aria-label="June 27, 2019" tabindex="-1">27</span><span class="flatpickr-day " aria-label="June 28, 2019" tabindex="-1">28</span><span class="flatpickr-day " aria-label="June 29, 2019" tabindex="-1">29</span><span class="flatpickr-day " aria-label="June 30, 2019" tabindex="-1">30</span><span class="flatpickr-day nextMonthDay" aria-label="July 1, 2019" tabindex="-1">1</span><span class="flatpickr-day nextMonthDay" aria-label="July 2, 2019" tabindex="-1">2</span><span class="flatpickr-day nextMonthDay" aria-label="July 3, 2019" tabindex="-1">3</span><span class="flatpickr-day nextMonthDay" aria-label="July 4, 2019" tabindex="-1">4</span><span class="flatpickr-day nextMonthDay" aria-label="July 5, 2019" tabindex="-1">5</span><span class="flatpickr-day nextMonthDay" aria-label="July 6, 2019" tabindex="-1">6</span></div></div></div></div></div></body></html>